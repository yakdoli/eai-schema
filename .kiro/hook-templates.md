# EAI Schema Toolkit - Agent Hook 프롬프트 템플릿

## 빠른 설정을 위한 복사 가능한 프롬프트 템플릿

### 🔧 기본 코드 품질 검사 (TypeScript 파일 저장 시)

**파일 패턴**: `src/**/*.ts`
**트리거**: 파일 저장

```
EAI Schema Toolkit 프로젝트의 TypeScript 파일을 검토해주세요. .kiro/steering 디렉토리의 가이드라인을 참조하여:

✅ 체크 항목:
- any 타입 사용 금지 (구체적 타입 정의 필요)
- console.log 대신 Winston 로거 사용
- 적절한 에러 처리 (try-catch, 커스텀 에러 클래스)
- 비동기 함수에서 async/await 패턴 사용
- JSDoc 주석 포함 여부

🚨 보안 체크:
- 입력 검증 로직 존재
- SQL 인젝션 방지
- XSS 방지 처리

간단한 요약과 개선 제안을 한국어로 제공해주세요.
```

### 🛡️ API 보안 검사 (라우터 파일)

**파일 패턴**: `src/routes/*.ts`
**트리거**: 파일 저장 또는 생성

```
API 라우터 파일의 보안을 검토해주세요:

🔒 필수 보안 요소:
- 입력 검증 미들웨어 (Joi, express-validator 등)
- 레이트 리미팅 적용
- 적절한 HTTP 상태 코드 사용
- 에러 정보 노출 방지

📝 API 설계:
- RESTful 원칙 준수
- 일관된 응답 형식 (SuccessResponse/ErrorResponse)
- 적절한 HTTP 메서드 사용

누락된 보안 요소가 있다면 코드 예시와 함께 제안해주세요.
```

### 🧪 테스트 완성도 검사

**파일 패턴**: `**/*.test.ts`, `**/*.spec.ts`
**트리거**: 파일 저장

```
테스트 파일의 완성도를 검토해주세요:

🎯 테스트 커버리지:
- 성공 케이스 (Happy Path)
- 실패 케이스 (Error Cases)
- 경계값 테스트 (Edge Cases)
- 입력 검증 테스트

🏗️ 테스트 구조:
- describe/it 블록 적절한 구조
- Given-When-Then 패턴
- 명확한 테스트 이름
- 적절한 모킹 사용

누락된 테스트 케이스가 있다면 예시와 함께 제안해주세요.
```

### 📊 성능 최적화 검사 (서비스 파일)

**파일 패턴**: `src/services/*.ts`
**트리거**: 파일 저장

```
서비스 파일의 성능을 검토해주세요:

⚡ 성능 최적화:
- 대용량 파일 처리 시 스트림 사용
- 적절한 캐싱 전략
- 불필요한 동기 처리 방지
- 메모리 누수 가능성

📈 모니터링:
- Prometheus 메트릭 수집
- 적절한 로깅 (성능 정보 포함)
- 에러 추적

개선 가능한 성능 이슈가 있다면 구체적인 해결책을 제안해주세요.
```

### 🔐 환경 설정 보안 검사

**파일 패턴**: `.env*`, `*.config.js`, `config/*.ts`
**트리거**: 파일 저장

```
환경 설정 파일의 보안을 검토해주세요:

🔑 민감 정보 관리:
- 하드코딩된 비밀번호/API 키 확인
- 환경 변수 적절한 사용
- .gitignore에 .env 파일 포함 확인

⚙️ 설정 검증:
- 필수 환경 변수 존재 확인
- 기본값 설정
- 프로덕션/개발 환경 분리

보안 위험이 있는 설정을 발견하면 즉시 알려주세요.
```

### 📚 문서화 검사 (README, API 문서)

**파일 패턴**: `README.md`, `docs/*.md`, `**/*.md`
**트리거**: 파일 저장

```
문서의 완성도와 정확성을 검토해주세요:

📖 문서 품질:
- 명확하고 이해하기 쉬운 설명
- 코드 예시의 정확성
- 최신 정보 반영 여부
- 한국어 문법 및 맞춤법

🔗 연결성:
- 관련 문서 간 링크
- API 문서와 실제 코드 일치성
- 이미지/다이어그램 유효성

개선이 필요한 부분이 있다면 구체적으로 제안해주세요.
```

### 🚀 배포 준비 검사 (CI/CD 파일)

**파일 패턴**: `.github/workflows/*.yml`, `Procfile`, `package.json`
**트리거**: 파일 저장

```
배포 설정의 안정성을 검토해주세요:

🔄 CI/CD 파이프라인:
- 테스트 자동 실행
- 빌드 프로세스 검증
- 환경별 배포 전략
- 롤백 메커니즘

🌐 배포 환경:
- Heroku 설정 (Procfile, 환경 변수)
- GitHub Pages 설정
- 헬스체크 엔드포인트

배포 실패 위험이 있는 설정이 있다면 경고해주세요.
```

## 프로젝트별 커스텀 프롬프트

### MCP 통합 관련 파일

**파일 패턴**: `src/mcp/*.ts`, `mcp-server/**/*.ts`
**트리거**: 파일 저장

```
MCP 통합 코드를 검토해주세요:

🔌 MCP 패턴:
- 프로바이더 인터페이스 준수
- 적절한 에러 처리
- 초기화/정리 로직
- 확장 가능한 구조

.kiro/steering/mcp-integration-guide.md의 가이드라인을 참조하여 개선점을 제안해주세요.
```

### 실시간 협업 기능

**파일 패턴**: `src/routes/collaboration.ts`, `src/services/CollaborationService.ts`
**트리거**: 파일 저장

```
실시간 협업 기능을 검토해주세요:

🔄 WebSocket 처리:
- 연결 관리
- 메시지 브로드캐스팅
- 에러 처리
- 성능 최적화

동시 사용자 처리와 데이터 동기화 이슈가 있는지 확인해주세요.
```

## 사용법

1. **VS Code Kiro 확장에서**:
   - Agent Hooks 섹션 → "+" 버튼
   - 파일 패턴과 트리거 설정
   - 위 템플릿 중 적절한 프롬프트 복사/붙여넣기

2. **Command Palette에서**:
   - `Cmd/Ctrl + Shift + P`
   - "Kiro: Open Kiro Hook UI"
   - 템플릿 선택하여 설정

3. **팀 공유**:
   - 이 파일을 팀원들과 공유
   - 프로젝트별 커스터마이징
   - 정기적인 프롬프트 업데이트

## 주의사항

- 🚨 **과도한 훅 설정 주의**: 너무 많은 훅은 개발 속도를 저하시킬 수 있습니다
- ⏱️ **응답 시간 고려**: 복잡한 프롬프트는 응답 시간이 길어질 수 있습니다
- 🎯 **선택적 적용**: 프로젝트 단계와 팀 상황에 맞게 선택적으로 적용하세요
- 🔄 **정기적 리뷰**: 훅의 효과성을 정기적으로 검토하고 개선하세요